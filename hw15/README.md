# Практическая работа 15

Данная папка содержит реализацию одного упражнения из 15-й практической работы  
по дисциплине «Вычислительные системы реального времени»

## Структура проекта
```
├── main.c # Основная логика запуска потоков
├── funcs.c # Функции для изготовления и сборки компонентов
├── Makefile # Файл для сборки проекта
├── proizvodstvo # Исполняемый файл 
└── README.md # Описание работы
```

## Упражнение: Производственная линия

### Задача:
Разработать программу, имитирующую работу производственной линии, на которой изготавливаются изделия.  
Каждое изделие состоит из:
- **детали C** (время изготовления — 3 секунды)
- **модуля**, который собирается из:
  - **детали A** (1 секунда)
  - **детали B** (2 секунды)

### Этапы сборки:
1. Потоки создают детали A, B и C с задержкой (`sleep`) по времени изготовления
2. Отдельный поток собирает модуль из A и B
3. Ещё один поток собирает изделие из модуля и детали C

### Для синхронизации используются считающие семафоры:
- `semA`, `semB`, `semC` — для готовых деталей
- `semModule` — для готовых модулей
- `semProduct` — для готовых изделий

## Логика программы

Каждый поток работает независимо:
- Потоки A, B и C периодически создают детали и увеличивают соответствующий семафор
- Поток сборки модуля ожидает наличие деталей A и B, затем собирает модуль
- Поток сборки изделия ожидает наличие модуля и детали C, затем собирает изделие

## Почему программа работает

1. Семафоры позволяют безопасно учитывать количество готовых компонентов
2. Потоки работают параллельно, не блокируя друг друга
3. Семафорное ожидание (`sem_wait`) гарантирует, что сборка происходит только при наличии нужных деталей
4. Потоки сборки не перегружают процессор, так как работают только при наличии ресурсов

## План исполнения периодических задач

Для оценки возможности выполнения задач в реальном времени используется формула Лиу–Лейланда:

$`U = \sum_{i=1}^{n} \frac{C_i}{T_i}`$


Где:
- $`C_A = 1, C_B = 2, C_C = 3`$ — время изготовления,
- $`T_A = 1, T_B = 2, T_C = 3`$ — периоды.

Суммарная загрузка:

$`U = \frac{1}{1} + \frac{2}{2} + \frac{3}{3} = 3`$

Это означает, что для выполнения всех задач в реальном времени требуется минимум 3 процессора  
Для одного процессора необходимо увеличить периоды или распределить задачи

## Компиляция и запуск
Для компиляции используйте команду:
```bash
make
```
Для запуска:
```bash
./proizvodstvo
```
Программа работает бесконечно. Для завершения — нажмите Ctrl+C

### Примечание
Для лучшего понимания сколько комплектующих было изготовлено, после завершении программы 
(Ctrl+C) выводится итоговая статистика всех элементов
