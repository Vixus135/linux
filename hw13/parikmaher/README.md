# Упражнение 4: Спящий парикмахер
## Задание
Смоделировать работу парикмахерской:
- Есть один парикмахер и несколько клиентов
- У парикмахера одно кресло для работы и три стула в приёмной
- Если клиентов нет — парикмахер спит
- Если клиент пришёл и есть свободное место, он ждёт
- Если мест нет — клиент уходит
## Как работает программа
- Переменная `waiting` хранит количество клиентов в очереди
- Парикмахер:
  - Спит, пока нет клиентов
  - Когда клиент появляется, берёт его и стрижёт (2 секунды)
  - После стрижки будит клиента, чтобы тот ушёл
- Клиент:
  - Если есть свободный стул — садится и ждёт
  - Если мест нет — уходит
- Для синхронизации используются:
  - Мьютекс (`mtx`) — защищает переменную `waiting`
  - Условные переменные (`barberCond`, `customerCond`) — управляют ожиданием и пробуждением парикмахера и клиентов

## Почему программа работает правильно
1. Мьютекс не даёт одновременно менять количество клиентов
2. Парикмахер ждёт сигнал от клиента, когда очередь пуста
3. Клиенты ждут сигнал от парикмахера, когда их начинают стричь
4. Если мест нет, клиент сразу уходит — это отражает реальную ситуацию

## Файлы проекта
- `main.c` — создаёт поток парикмахера и запускает клиентов
- `funcs.c` — содержит функции:
  - `barber()` — логика работы парикмахера
  - `customer()` — логика поведения клиента
- `Makefile` — автоматическая сборка проекта

## Компиляция и запуск
Собрать программу:
```bash
make
```
Запустить:
```bash
./parik
```
Программа работает бесконечно. Чтобы остановить — нажмите Ctrl+C
